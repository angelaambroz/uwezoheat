
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>Preschool enrolment, Kenya, 2013</title>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<style type="text/css">
	</style>
</head>
<body>

	<script type="text/javascript">

		var w = 800,
			h = 500,
			json;

		var svg = d3.select("body")
			.append("svg")
			.attr("width", w)
			.attr("height", h);


		var projection = d3.geo.mercator()
			.translate([w/30,h/2])
			.scale(1000);

		var path = d3.geo.path()
			.projection(projection);

		//Data
		d3.json("counties.json", function(json) {
			
			svg.selectAll("path")
			   .data(json.features)
			   .enter()
			   .append("path")
			   .attr("d", path)
			   .style("fill", "steelblue");

		console.log(json.features);

		//Bounding box - why can't I do this out of the json call?
		//How do I get to the outline of Kenya for path.bounds?
		var b = path.bounds(json.features),
			s = .95 / Math.max((b[1][0] - b[0][0]) / w, (b[1][1] - b[0][1]) / h),
			t = [(w - s * (b[1][0] + b[0][0])) / 2, (h - s * (b[1][1] + b[0][1])) / 2];

		projection.scale(s).translate(t);


		}); //json closer

					

			
		</script>
	</body>
</html>